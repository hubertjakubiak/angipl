-title "Nauka słówek"
.row.top-buffer
  .col-md-4.col-xs-12.col-md-offset-4.text-center
    .well.well-sm
      Wybierz prawidłowe tłumaczenie.
.row
  .col-md-6.col-xs-12.col-md-offset-3.text-center
    %p
      = link_to @first_word.pl, word_path(@first_word.id), {:class=>"word btn btn-primary btn-lg", :target => "_blank"}
    %p
    - if @first_word.good_count != 0 || @first_word.bad_count != 0
      .progress{"data-placement" => "top", "data-toggle" => "tooltip", :title => "Poziom trudności słówka na podstawie odpowiedzi użytkowników."}
        .progress-bar.progress-bar-success{:role => "progressbar", :style => "width:#{correctness(@first_word.good_count, @first_word.bad_count)}"}
          = correctness(@first_word.good_count, @first_word.bad_count)
        .progress-bar.progress-bar-danger{:role => "progressbar", :style => "width:#{correctness_reverse(@first_word.good_count, @first_word.bad_count)}"}
          = correctness_reverse(@first_word.good_count, @first_word.bad_count)
    #loading 
      = image_tag('loading.gif')
    #error-loading 
    %button.btn.btn-default.btn-lg{:type => "button", :id => 'show_answers'} Pokaż odpowiedzi
    .answers
      - @words.each do |word|
        = link_to word.try(:en), check_words_path(en: "#{word.en}", pl: "#{@first_word.pl}"), {:remote => true, 'data-word' => "#{word.en}", :method => :get, :class=>"word btn btn-default btn-lg"}
    - unless user_signed_in?
      .well.well-sm.top-buffer
        = link_to "Zaloguj się", new_user_session_path
        lub
        = link_to "załóż konto", new_user_registration_path
        aby śledzić swoje statystyki, które pojawią się w tabeli poniżej.
    - else
      .well.well-sm.top-buffer
        Pomóż nam rozwijać serwis
        = link_to "dodając nowe słówka.", new_word_path
  .col-md-6.col-xs-12.col-md-offset-3.text-center.top-buffer
    %table.table.table-bordered
      %thead
        %tr
          %th.text-center Kto?
          %th.text-center Dobre odpowiedzi
          %th.text-center Złe odpowiedzi
          %th.text-center Poprawność
      %tbody
        - if current_user
          %tr
            %td Ja
            %td{:id => 'my_good_count' }= @stats.good_count
            %td{:id => 'my_bad_count' }= @stats.bad_count
            %td= correctness(@stats.good_count, @stats.bad_count)
        %tr
          %td
            %span{"data-placement" => "top", "data-toggle" => "tooltip", :title => "Liczą się tylko odpowiedzi zarejestrowanych użytkowników."}
              Ogółem
          %td= @all_good_count
          %td= @all_bad_count
          %td= correctness(@all_good_count, @all_bad_count)
          
